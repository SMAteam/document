<!-- TOC -->

- [在线业务层](#在线业务层)
- [web后台后与前端接口](#web后台后与前端接口)
    - [地震](#地震)
        - [宏观分析](#宏观分析)
            - [地图展示](#地图展示)
                - [每个省份发生的地震的数量](#每个省份发生的地震的数量)
                - [每个省份地震相关帖子数量](#每个省份地震相关帖子数量)
            - [折线图展示](#折线图展示)
                - [全国每个月份地震的数量](#全国每个月份地震的数量)
            - [饼图展示](#饼图展示)
                - [弱震、有感地震、中强震、强震4类地震的饼图展示](#弱震有感地震中强震强震4类地震的饼图展示)
            - [列表展示](#列表展示)
                - [展示中国各个省份的地震详细信息](#展示中国各个省份的地震详细信息)

<!-- /TOC -->
# 在线业务层
代码目录结构
- web_system // 项目目录
    - earthquake // 地震任务APP
        - macroscopic // 宏观分析包
            - controller.py // 完成与前台的交互工作
            - urls.py // 路由配置文件
        - microcosmic // 微观分析包
            - controller.py // 完成与前台的交互工作
            - urls.py // 路由配置文件
        - models.py
        - 
    - web_system // 主目录
        - settings.py // 项目配置文件
        - urls.py // 根路由配置文件

# web后台后与前端接口
## 地震
### 宏观分析
#### 地图展示
##### 每个省份发生的地震的数量
   - 描述：在地图上展示每个省份发生的地震数量
   - url地址：http://152.136.59.62:8000/earthquake_macroscopic/map1
   - 请求方式：GET
   - 请求参数：data 列表
        |属性名|属性类型|属性描述|
        |---|---|---|
        |name|string|省份名称|
        |value|int|发生灾害次数|
   - 示例：{"code": 200, "msg": "success", "data": [{"name": "上海市", "value": 48}]}
##### 每个省份地震相关帖子数量
 - 描述：在地图上展示讨论每个省份发生的地震的帖子总数量
   - url地址：http://152.136.59.62:8000/earthquake_macroscopic/map2
   - 请求方式：GET
   - 请求参数：data 列表
        |属性名|属性类型|属性描述|
        |---|---|---|
        |name|string|省份名称|
        |value|int|帖子总数量|
   - 示例：{"code": 200, "msg": "success", "data": [{"name": "上海市", "value": 48}]}
#### 折线图展示
##### 全国每个月份地震的数量
   - 描述：在折现图上展示全国每个月发生的灾害数量
   - url地址：http://152.136.59.62:8000/earthquake_macroscopic/line1
   - 请求方式：GET
   - 请求参数：data 列表
        |属性名|属性类型|属性描述|
        |---|---|---|
        |month|string|月份|
        |value|int|发生灾害次数|
   - 示例：{"code": 200, "msg": "success", "data": [{"month": "2020-01", "value": 48}]}
   ##### 全国每个月份地震相关的帖子数量
   - 描述：在折现图上展示全国每个月讨论地震相关的帖子的总数量
   - url地址：http://152.136.59.62:8000/earthquake_macroscopic/line2
   - 请求方式：GET
   - 请求参数：data 列表
        |属性名|属性类型|属性描述|
        |---|---|---|
        |month|string|月份|
        |value|int|帖子的总数量|
   - 示例：{"code": 200, "msg": "success", "data": [{"month": "2020-01", "value": 48}]}
#### 饼图展示
##### 弱震、有感地震、中强震、强震4类地震的饼图展示
   - 描述：地震按震级可分为：弱震、有感地震、中强震、强震4类(弱震：震级小于3级。有感地震：震级大于或等于3级、小于或等于4.5级。中强震：震级大于4.5级、小于6级。强震：震级大于或等于6级,其中震级大于或等于8级的又称为巨大地震)。饼图展示各类地震所占的比例。
   - url地址：http://152.136.59.62:8000/earthquake_macroscopic/pie1
   - 请求方式：GET
   - 请求参数：data列表     
        |属性名|属性类型|属性描述|  
        |---|---|---|  
        |name|string|灾害类名(一共4类)|  
        |value|int|此类所对应的次数|  
   - 示例： {"code": 200, "msg": "success", "data":[{"name":"弱震","value":4},{"name":"有感地震","value":10},{"name":"中强震","value":6},{"name":"强震","value":7}]}
#### 列表展示
##### 展示中国各个省份的地震详细信息
   - 描述：地震按震级可分为：弱震、有感地震、中强震、强震4类(弱震：震级小于3级。有感地震：震级大于或等于3级、小于或等于4.5级。中强震：震级大于4.5级、小于6级。强震：震级大于或等于6级,其中震级大于或等于8级的又称为巨大地震)。饼图展示各类地震所占的比例。
   - url地址：http://152.136.59.62:8000/earthquake_macroscopic/list1
   - 请求方式：GET
   - 请求参数：data列表     
        |属性名|属性类型|属性描述|  
        |---|---|---|  
        |name|string|灾害类名(一共4类)|  
        |value|int|此类所对应的次数|  
   - 示例： {"code": 200, "msg": "success", "data":[{'number':1,'province':'河北省',city':'沧州市','area':'南皮县','info':'发生5级地震，震源深度为12千米','time':'2020-01-29 23:27:00'}]}